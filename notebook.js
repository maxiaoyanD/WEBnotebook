var $noteBook=function(){var c=[{title:"文件(F)",menuItems:[{title:"新建(N)",shortcut:"Ctrl+N",enabled:!0,handler:function(){console.log("新建(N) menu clicked!")}},{title:"打开(O)...",shortcut:"Ctrl+O",enabled:!0,handler:function(){console.log("打开(O) menu clicked!")}},{title:"保存(S)",shortcut:"Ctrl+S",enabled:!0,handler:function(){console.log("保存(S) menu clicked!")}},{title:"另存为(A)...",shortcut:"",enabled:!0,handler:function(){console.log("另存为(A) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"页面设置(U)...",shortcut:"",enabled:!0,handler:function(){console.log("页面设置(U) menu clicked!")}},{title:"打印(P)...",shortcut:"Ctrl+P",enabled:!0,handler:function(){console.log("打印(P) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"退出(X)",shortcut:"",enabled:!0,handler:function(){console.log("退出(X) menu clicked!")}}],width:"202px",left:"0px"},{title:"编辑(E)",menuItems:[{title:"撤销(U)",shortcut:"Ctrl+Z",enabled:!1,handler:function(){console.log("撤销(U) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"剪切(T)",shortcut:"Ctrl+X",enabled:!0,handler:function(){console.log("剪切(X) menu clicked!")}},{title:"复制(C)",shortcut:"Ctrl+C",enabled:!1,handler:function(){console.log("复制(C) menu clicked!")}},{title:"粘贴(P)",shortcut:"Ctrl+V",enabled:!1,handler:function(){console.log("粘贴(P) menu clicked!")}},{title:"删除(L)",shortcut:"Del",enabled:!1,handler:function(){console.log("删除(L) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"使用 Bing 搜索...",shortcut:"Ctrl+E",enabled:!0,handler:function(){console.log("使用 Bing 搜索 menu clicked!")}},{title:"查找(F)...",shortcut:"Ctrl+F",enabled:!1,handler:function(){console.log("查找(F) menu clicked!")}},{title:"查找下一个(N)",shortcut:"F3",enabled:!1,handler:function(){console.log("查找下一个(N) menu clicked!")}},{title:"替换(R)...",shortcut:"Ctrl+H",enabled:!0,handler:function(){console.log("替换(R) menu clicked!")}},{title:"转到(G)...",shortcut:"Ctrl+G",enabled:!0,handler:function(){console.log("转到(G) menu clicked!")}},{title:"hr",shortcut:"",enabled:!0,handler:null},{title:"全选(A)",shortcut:"Ctrl+A",enabled:!0,handler:function(){console.log("全选(A) menu clicked!")}},{title:"时间/日期(D)",shortcut:"F5",enabled:!0,handler:function(){console.log("时间/日期(D) menu clicked!")}}],width:"218px",left:"52px"},{title:"格式(O)",menuItems:[{title:"自动换行(W)",shortcut:"",enabled:!0,handler:function(){console.log("自动换行(W) menu clicked!")}},{title:"字体(F)...",shortcut:"",enabled:!0,handler:function(){h.show({})}}],width:"156px",left:"106px"},{title:"查看(V)",menuItems:[{title:"状态栏(S)",shortcut:"",enabled:!0,handler:function(){np.bShowStatusBar=!np.bShowStatusBar,$statusBar.display(np.bShowStatusBar),$menubar.checked(3,0,np.bShowStatusBar)}}],width:"138px",left:"162px"},{title:"帮助(H)",menuItems:[{title:"查看帮助(H)",shortcut:"",enabled:!0,handler:function(){console.log("查看帮助(H) menu clicked!")}},{title:"关于记事本(A)",shortcut:"",enabled:!0,handler:function(){$dlgAbout.show()}}],width:"166px",left:"216px"}],a=[],d=-1,t=$('<div class="text"><textarea spellcheck="false" auto-size="none" wrap="off"></textarea></div');$("#note-app").append(t);var e,l,n,o,i,s,r,u,h=(e=$('<div class="notepad-dlg-mask notepad-dlg-font"><div class="dialogbox notepad-dlgbox"><div class="notepad-dlg-titlebar"><p class="title">字体</p><span class="close-btn">✖</span></div><div class="main notepad-dlg-main"><div class="font-family"><p>字体(F):</p></div><div class="font-style"><p>字形(Y):</p></div><div class="font-size"><p>大小(S):</p></div><fieldset class="sample"><legend>示例</legend><p class="pp">AaBbYyZz</p></fieldset><div class="script"><label>脚本(R):<br><select><option value="西欧语言">西欧语言</option><option value="中文 GB2312">中文 GB2312</option></select></label></div><input class="btn-ok btn" type="button" value="确定"><input class="btn-cancel btn" type="button" value="取消"></div></div></div>'),l=e.find(".btn-ok"),n=e.find(".close-btn"),o=e.find(".btn-cancel"),i=["Agency FB","Algerian","Arial","Arial Rounded MT","Axure Handwriting","Bahnschrift","Baskerville Old Face","Bauhaus 93","Bell MT","Berlin Sans FB","Bernard MT","BlackAdder ITC"],s=["常规","斜体","粗体","粗偏斜体"],r=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],u={family:"Arial",style:"常规",size:"16",okHandler:null},{show:function(t){$.extend(u,t),$("#note-app").append(e),(new comList).show({container:".notepad-dlg-font .font-family",width:"176px",list:i,select:i.indexOf(u.family),isFont:!0,selectHandler:function(t){u.family=i[t],p()}}),(new comList).show({container:".notepad-dlg-font .font-style",width:"132px",list:s,select:s.indexOf(u.style),isFontStyle:!0,selectHandler:function(t){u.style=s[t],p()}}),(new comList).show({container:".notepad-dlg-font .font-size",width:"64px",list:r,select:r.indexOf(u.size),selectHandler:function(t){u.size=r[t],p()}}),p(),n.click(f),o.click(f),l.click(function(){$("textarea").css({"font-size":u.size,"font-style":u.style,"font-family":u.family}),f()}),e.click(function(t){t.stopPropagation()})}});function p(){$(".pp").css({"font-family":u.family,"font-size":u.size+"pt"}),"斜体"!==u.style?"粗体"!==u.style?"粗偏斜体"!==u.style?console.log("cfg"):$(".pp").css({"font-weight":"bold","font-style":"italic"}):$(".pp").css({"font-weight":"bold"}):$(".pp").css({"font-style":"italic"})}function f(){e.remove()}return{showTitle:function(){for(var t=$('<ul class="menu-title"></ul>'),e=0;e<c.length;e++){var l=$('<li class="title"></li>');l.html(c[e].title),l.attr("id",e),t.append(l),l.click(function(){var t=parseInt($(this).attr("id"));d=-1===d?(a[t].css({display:"inline-block"}),t):d!==t?(a[d].css({display:"none"}),a[t].css({display:"inline-block"}),t):(a[d].css({display:"none"}),-1)}),l.hover(function(){if(-1!==d){var t=parseInt($(this).attr("id"));a[d].css({display:"none"}),a[t].css({display:"inline-block"}),d=t}})}$("#note-app").append(t)},showList:function(){for(var t=0;t<c.length;t++){for(var e=$('<ul class="menus"></ul>'),l=c[t].menuItems,n=0;n<l.length;n++)if("hr"!==l[n].title){var o=$('<li class="menu-item"></li>');if(o.html(l[n].title),o.attr("data-x",t),o.attr("data-y",n),""!==l[n].shortcut){var i=$('<span class="shortcut"></span>');i.html(l[n].shortcut),o.append(i)}e.append(o),o.click(function(){var t=this.dataset.x,e=this.dataset.y;c[t].menuItems[e].handler(),a[t].css({display:"none"}),d=-1})}else{var s=$('<li class="menu-hr"></li>');e.append(s)}e.css({width:c[t].width,left:c[t].left,display:"none"}),$("#note-app").append(e),a.push(e)}}}}();$noteBook.showTitle(),$noteBook.showList();